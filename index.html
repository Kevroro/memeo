<!DOCTYPE html>
<html lang="es">

<head>
    <link rel="manifest" href="manifest.json">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-title" content="Memeo">
    <meta name="apple-mobile-web-app-status-bar-style" content="default">
    <link rel="apple-touch-icon" href="logo.png">
    <link rel="icon" href="logo.png" type="image/png">
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Meet</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Pacifico&family=Poppins:wght@300;400;500;600&display=swap"
        rel="stylesheet">
    <style>
        .custom-bg {
            background-color: #ffd230;
        }

        .question-box {
            background: linear-gradient(145deg, #000000, #000000);
        }
    </style>
</head>

<body class="custom-bg font-sans">
    <!-- Pantalla de carga con logotipo -->
    <div id="splash-screen" class="fixed inset-0 flex items-center justify-center bg-white z-50">
        <img src="logo.png" alt="Logotipo" class="w-1/2">
    </div>

    <!-- Pantalla de selección de jugadores -->
    <div id="player-setup" class="hidden fixed inset-0 flex flex-col justify-center items-center py-10 z-40">
        <h1 class="text-black text-3xl mb-6 font-extrabold text-center">¿Quiénes van a memearse?</h1>
        <div id="player-inputs" class="mb-4 flex flex-col items-center space-y-2">
            <!-- Las primeras dos cajitas -->
            <input type="text" class="player-name bg-white px-4 py-2 rounded" placeholder="Nombre 1">
            <input type="text" class="player-name bg-white px-4 py-2 rounded" placeholder="Nombre 2">
        </div>
        <!-- Botón para añadir más cajitas -->
        <button id="add-player" class="bg-white-600 text-white py-2 px-4 rounded mb-4">+</button>
        <button id="start-game" class="bg-gradient-to-r from-[#000000] to-[#000000] text-white py-2 px-6 rounded"> Empezar
        </button>
    </div>

    <!-- Pantalla de juego -->
    <div id="game-screen" class="hidden fixed inset-0 flex flex-col justify-center items-center py-10 z-30">
        <!-- Logo encima de la pregunta -->
        <img src="logo.png" alt="Logotipo" class="w-24 mb-4">
        <!-- Caja de preguntas -->
        <div class="question-box p-8 rounded-xl shadow-lg max-w-lg w-full text-center px-4 sm:px-6">
            <div id="emoji" class="emoji mb-4"></div>
            <div id="question" class="text-white text-2xl mb-6">¡Clica en «MEMEO» para memearte!</div>
            <button id="new-question" class="bg-black-600 text-white py-2 px-6 rounded mb-4">MEMEO</button>
        </div>
        <div id="player-scores" class="mt-6 text-black w-full max-w-md px-4 sm:px-6">
            <!-- Este contenedor será actualizado dinámicamente con JavaScript -->
        </div>
    </div>

    <script>
        document.addEventListener("DOMContentLoaded", () => {
            // Pantalla inicial de carga
            setTimeout(() => {
                document.getElementById("splash-screen").classList.add("hidden");
                document.getElementById("player-setup").classList.remove("hidden");
            }, 3000);

            // Configurar jugadores y comenzar el juego
            const playerInputsContainer = document.getElementById("player-inputs");
            const addPlayerButton = document.getElementById("add-player");
            let playerCount = 2;
            let players = [];
            const maxScore = 100;

            addPlayerButton.addEventListener("click", () => {
                if (playerCount < 12) {
                    playerCount++;
                    const newInput = document.createElement("input");
                    newInput.type = "text";
                    newInput.className = "player-name bg-black px-4 py-2 rounded";
                    newInput.placeholder = `Nombre ${playerCount}`;
                    playerInputsContainer.appendChild(newInput);
                } else {
                    alert("¡No puedes añadir más de 12 jugadores!");
                }
            });

            document.getElementById("start-game").addEventListener("click", () => {
                players = [];
                document.querySelectorAll(".player-name").forEach(input => {
                    if (input.value.trim()) {
                        players.push({ name: input.value.trim(), score: 0 });
                    }
                });
                if (players.length > 0) {
                    document.getElementById("player-setup").classList.add("hidden");
                    document.getElementById("game-screen").classList.remove("hidden");
                    updateScores();
                }
            });

            function updateScores() {
                const scoresContainer = document.getElementById("player-scores");
                scoresContainer.innerHTML = "";
                players.forEach((player, index) => {
                    const playerDiv = document.createElement("div");
                    playerDiv.className = "mb-4";
                    const playerInfo = document.createElement("div");
                    playerInfo.className = "flex items-center justify-between mb-2";
                    const playerName = document.createElement("p");
                    playerName.textContent = `${player.name}: ${player.score} puntos`;
                    playerName.className = "text-lg text-black";
                    const buttonContainer = document.createElement("div");
                    buttonContainer.className = "flex space-x-2";
                    const addButton = document.createElement("button");
                    addButton.innerHTML = "🎉";
                    addButton.className = "text-black text-xl px-2 py-1 rounded hover:text-green-400";
                    addButton.onclick = () => addScore(index);
                    const subtractButton = document.createElement("button");
                    subtractButton.innerHTML = "☠️";
                    subtractButton.className = "text-black text-xl px-2 py-1 rounded hover:text-red-400";
                    subtractButton.onclick = () => subtractScore(index);
                    buttonContainer.appendChild(subtractButton);
                    buttonContainer.appendChild(addButton);
                    const progressBarContainer = document.createElement("div");
                    progressBarContainer.className = "bg-gray-200 h-4 rounded-full overflow-hidden";
                    const progressBar = document.createElement("div");
                    progressBar.className = "bg-green-500 h-full";
                    progressBar.style.width = `${(player.score / maxScore) * 100}%`;
                    progressBarContainer.appendChild(progressBar);
                    playerInfo.appendChild(playerName);
                    playerInfo.appendChild(buttonContainer);
                    playerDiv.appendChild(playerInfo);
                    playerDiv.appendChild(progressBarContainer);
                    scoresContainer.appendChild(playerDiv);
                });
            }

            function addScore(index) {
                players[index].score += 10;
                if (players[index].score >= maxScore) {
                    alert(`¡${players[index].name} ha ganado!`);
                    setTimeout(() => location.reload(), 3000);
                }
                updateScores();
            }

            function subtractScore(index) {
                if (players[index].score > 0) {
                    players[index].score -= 10;
                    updateScores();
                } else {
                    alert("¡Ojo! La puntuación no puede ser menor a 0");
                }
            }

            document.getElementById("new-question").addEventListener("click", () => {
                let availableQuestions = questions.filter(q => !usedQuestions.has(q.img));
                if (availableQuestions.length === 0) {
                    usedQuestions.clear();
                    availableQuestions = questions;
                }
                const randomQuestion = availableQuestions[Math.floor(Math.random() * availableQuestions.length)];
                usedQuestions.add(randomQuestion.img);

                // Mostramos la imagen en lugar de texto
                document.getElementById("question").innerHTML = `<img src="${randomQuestion.img}" alt="Imagen de pregunta" class="w-full h-auto">`;
            });

            const questions = [
                { img: "images/imagen1.jpg"},
                { img: "images/imagen2.jpg"},
                { img: "images/imagen3.jpg"},
                { img: "images/imagen4.jpg"},
                { img: "images/imagen5.jpg"},
                { img: "images/imagen6.jpg"},
                { img: "images/imagen7.jpg"},
                { img: "images/imagen8.jpg"},               
                { img: "images/imagen9.jpg"},
                { img: "images/imagen10.jpg"},
                { img: "images/imagen11.jpg"},               
                { img: "images/imagen12.jpg"},
                { img: "images/imagen13.jpg"},
                { img: "images/imagen14.jpg"},               
                { img: "images/imagen15.jpg"},
                { img: "images/imagen16.jpg"},
                { img: "images/imagen17.jpg"},              
                { img: "images/imagen18.jpg"},
                { img: "images/imagen19.jpg"},
                { img: "images/imagen20.jpg"},            
                { img: "images/imagen21.jpg"},
                { img: "images/imagen22.jpg"},
                { img: "images/imagen23.jpg"},          
                { img: "images/imagen24.jpg"},
                { img: "images/imagen25.jpg"},
                { img: "images/imagen26.jpg"},            
                { img: "images/imagen27.jpg"},
                { img: "images/imagen28.jpg"},
                { img: "images/imagen29.jpg"},
                { img: "images/imagen30.jpg"},
                { img: "images/imagen31.jpg"},
                { img: "images/imagen32.jpg"},
                { img: "images/imagen33.jpg"},
                { img: "images/imagen34.jpg"},
                { img: "images/imagen35.jpg"},
                { img: "images/imagen36.jpg"},
                { img: "images/imagen37.jpg"},
                { img: "images/imagen38.jpg"},
                { img: "images/imagen39.jpg"},
                { img: "images/imagen40.jpg"},
                { img: "images/imagen41.jpg"},
                { img: "images/imagen42.jpg"},
                { img: "images/imagen43.jpg"},
                { img: "images/imagen44.jpg"},
                { img: "images/imagen45.jpg"},
                { img: "images/imagen46.jpg"},
                { img: "images/imagen47.jpg"},
                { img: "images/imagen48.jpg"},
                { img: "images/imagen49.jpg"},
                { img: "images/imagen50.jpg"},
                { img: "images/imagen51.jpg"},
                { img: "images/imagen52.jpg"},
                { img: "images/imagen53.jpg"},
                { img: "images/imagen54.jpg"},
                { img: "images/imagen55.jpg"},
                { img: "images/imagen56.jpg"},
                { img: "images/imagen57.jpg"},
                { img: "images/imagen58.jpg"},
                { img: "images/imagen59.jpg"},
                { img: "images/imagen60.jpg"},
                { img: "images/imagen61.jpg"},
                { img: "images/imagen62.jpg"},
                { img: "images/imagen63.jpg"},
                { img: "images/imagen64.jpg"},
                { img: "images/imagen65.jpg"},
                { img: "images/imagen66.jpg"},
                { img: "images/imagen67.jpg"},
                { img: "images/imagen68.jpg"},
                { img: "images/imagen69.jpg"},
                { img: "images/imagen70.jpg"},
                { img: "images/imagen71.jpg"},
                { img: "images/imagen72.jpg"},
                { img: "images/imagen73.jpg"},
                { img: "images/imagen74.jpg"},
                { img: "images/imagen75.jpg"},
                { img: "images/imagen76.jpg"},
                { img: "images/imagen77.jpg"},
                { img: "images/imagen78.jpg"},
                { img: "images/imagen79.jpg"},
                { img: "images/imagen80.jpg"},
                { img: "images/imagen81.jpg"},
                { img: "images/imagen82.jpg"},
                { img: "images/imagen83.jpg"},
                { img: "images/imagen84.jpg"},
                { img: "images/imagen85.jpg"},
                { img: "images/imagen86.jpg"},
                { img: "images/imagen87.jpg"},
                { img: "images/imagen88.jpg"},
                { img: "images/imagen89.jpg"},
                { img: "images/imagen90.jpg"},
                { img: "images/imagen91.jpg"},
                { img: "images/imagen92.jpg"},
                { img: "images/imagen93.jpg"},
                { img: "images/imagen94.jpg"},
                { img: "images/imagen95.jpg"},
                { img: "images/imagen96.jpg"},
                { img: "images/imagen97.jpg"},
                { img: "images/imagen98.jpg"},
                { img: "images/imagen99.jpg"},
                { img: "images/imagen100.jpg"},
                { img: "images/imagen101.jpg"},
                { img: "images/imagen102.jpg"},
                { img: "images/imagen103.jpg"},
                { img: "images/imagen104.jpg"},
                { img: "images/imagen105.jpg"},
                { img: "images/imagen106.jpg"},
                { img: "images/imagen107.jpg"},
                { img: "images/imagen108.jpg"},
                { img: "images/imagen109.jpg"},
                { img: "images/imagen110.jpg"},
                { img: "images/imagen111.jpg"},
                { img: "images/imagen112.jpg"},
                { img: "images/imagen113.jpg"},
                { img: "images/imagen114.jpg"},
                { img: "images/imagen115.jpg"},
                { img: "images/imagen116.jpg"},
                { img: "images/imagen117.jpg"},
                { img: "images/imagen118.jpg"},
                { img: "images/imagen119.jpg"},
                { img: "images/imagen120.jpg"},
                { img: "images/imagen121.jpg"},
                { img: "images/imagen122.jpg"},
                { img: "images/imagen123.jpg"},
                { img: "images/imagen124.jpg"},
                { img: "images/imagen125.jpg"},
                { img: "images/imagen126.jpg"},
                { img: "images/imagen127.jpg"},
                { img: "images/imagen128.jpg"},
                { img: "images/imagen129.jpg"},
                { img: "images/imagen130.jpg"},
                { img: "images/imagen131.jpg"},
                { img: "images/imagen132.jpg"},
                { img: "images/imagen133.jpg"},
                { img: "images/imagen134.jpg"},
                { img: "images/imagen135.jpg"},
                { img: "images/imagen136.jpg"},
                { img: "images/imagen137.jpg"},
                { img: "images/imagen138.jpg"},
                { img: "images/imagen139.jpg"},
                { img: "images/imagen140.jpg"},
                { img: "images/imagen141.jpg"},
                { img: "images/imagen142.jpg"},
                { img: "images/imagen143.jpg"},
                { img: "images/imagen144.jpg"},
                { img: "images/imagen145.jpg"},
                { img: "images/imagen146.jpg"},
                { img: "images/imagen147.jpg"},
                { img: "images/imagen148.jpg"},
                { img: "images/imagen149.jpg"},
                { img: "images/imagen150.jpg"},
                { img: "images/imagen151.jpg"},
                { img: "images/imagen152.jpg"},
                { img: "images/imagen153.jpg"},
                { img: "images/imagen154.jpg"},
                { img: "images/imagen155.jpg"},
                { img: "images/imagen156.jpg"},
                { img: "images/imagen157.jpg"},
                { img: "images/imagen158.jpg"},
                { img: "images/imagen159.jpg"},
                { img: "images/imagen160.jpg"},
                { img: "images/imagen161.jpg"},
                { img: "images/imagen162.jpg"},
                { img: "images/imagen163.jpg"},
                { img: "images/imagen164.jpg"},
                { img: "images/imagen165.jpg"},
                { img: "images/imagen166.jpg"},
                { img: "images/imagen167.jpg"},
                { img: "images/imagen168.jpg"},
                { img: "images/imagen169.jpg"},
                { img: "images/imagen170.jpg"},
                { img: "images/imagen171.jpg"},
                { img: "images/imagen172.jpg"},
                { img: "images/imagen173.jpg"},
                { img: "images/imagen174.jpg"},
                { img: "images/imagen175.jpg"},
                { img: "images/imagen176.jpg"},
                { img: "images/imagen177.jpg"},
                { img: "images/imagen178.jpg"},
                { img: "images/imagen179.jpg"},
                { img: "images/imagen180.jpg"},
                { img: "images/imagen181.jpg"},
                { img: "images/imagen182.jpg"},
                { img: "images/imagen183.jpg"},
                { img: "images/imagen184.jpg"},
                { img: "images/imagen185.jpg"},
                { img: "images/imagen186.jpg"},
                { img: "images/imagen187.jpg"},
                { img: "images/imagen188.jpg"},
                { img: "images/imagen189.jpg"},
                { img: "images/imagen190.jpg"},
                { img: "images/imagen191.jpg"},
                { img: "images/imagen192.jpg"},
                { img: "images/imagen193.jpg"},
                { img: "images/imagen194.jpg"},
                { img: "images/imagen195.jpg"},
                { img: "images/imagen196.jpg"},
                { img: "images/imagen197.jpg"},
                { img: "images/imagen198.jpg"},
                { img: "images/imagen199.jpg"},
                { img: "images/imagen200.jpg"}
            ];

            const usedQuestions = new Set();
        });
    </script>

    <footer class="fixed bottom-4 w-full text-center">
        <p class="text-black text-sm">
            &copy; 2025 Propiedad de Kevin Roldán y Judith Sancerni
        </p>
    </footer>
</body>

</html>
